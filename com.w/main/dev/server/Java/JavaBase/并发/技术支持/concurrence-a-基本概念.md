# 概述

上下文切换：任务从保存到再次加载的过程

### 并发和并行

> ​        如果某个系统支持两个或者多个动作（Action）**同时存在**，那么这个系统就是一个**并发系统**。如果某个系统支持两个或者多个动作**同时执行**，那么这个系统就是一个**并行系统**。并发系统与并行系统这两个定义之间的关键差异在于**“存在”**这个词。
>
> ​                                                                                                                                                  《并发的艺术》 — 〔美〕布雷谢斯

- 对于单处理操作系统而言，所谓的并行实质上是极段时间间隔切换执行的并行

### 并发串行比较

- 并发执行不超过百万次，速度比串行执行慢（原因：线程有创建和上下文切换的开销）

### 减少上下文切换策略

- 无锁并发编程
- CSA算法
- 使用最少线程
- 协程：单线程实现多任务调度，单线程里实现多任务切换

### 死锁应对

- 避免一个线程同时获取多个锁
- 避免一个线程在所内同时占用多个资源
- 尝试使用定时锁
- 对于数据库锁，加锁和解锁在一个数据库链接里

