# 计算机组成原理二

> 运算器和运算方法

# 1.数据与文字的表示方法

## 1.1数据格式

- 定点格式：数值范围有限，处理硬件简单
- 浮点格式：数值范围很大，硬件复杂

### 1.1.1定点数表示方式

- 约定机器中所有数据的小数点位置是固定不变的。由于约定在固定的位置，小数点就不再使用记号“.”来表示。

  通常将数据表示成**纯小数**或**纯整数**

- 定点数*ｘ（符号）＝ｘ**0**ｘ**1**ｘ**2**…**ｘ**n* （尾数）

  - 纯小数：表示范围为：0≤|*ｘ*|*≤*1-2^-n
  - 纯整数：表示范围为：0≤|*ｘ*|*≤*2n^-1,目前使用较多，称为**整数运算**

### 1.1.2浮点数的表示方法

- 浮点数表示法：把一个数的有效数字和数的范围在计算机的一个存储单元中分别予以表示，这种把数的范围和精度分别表示的方法，相当于数的小数点位置随比例因子的不同而在一定范围内自由浮动

  - 任意一个十进制数*Ｎ* 可以写成 ：　　　    *Ｎ*＝*10**E**×**Ｍ**
  - 计算机中一个任意进制数*Ｎ* 可以写成 :　　　　 *Ｎ＝Ｒ**E**×**M**

  > *Ｍ* ：浮点数的**尾数**，是一个纯小数。
  >
  > *E* ：浮点数的**指数**，是一个整数，通常用**阶码**表示。 
  >
  > *R* ：浮点数的**基数**，对于二进计数值的机器是一个常数，一般规定*Ｒ* 为2，8或16

  #### 1.1.2.1浮点数的一般表示方法

  - 一个机器浮点数由阶码和尾数及其符号位组成（**尾数**：用定点小数表示，给出有效数字的位数决定了浮点数的表示精度；**阶码**：用整数形式表示，指明小数点在数据中的位置，决定了浮点数的表示范围。）
    - 阶符+阶码+数符+尾数

  ### 1.1.2.2规格化浮点数

  - 规格化表示：
    - 当尾数的值不为0时，尾数域的最高有效位应为1，否则要修改阶码同时移动小数点
    - 当浮点数的尾数的值为 0，或者当阶码的值遇到比它能表示的最小值还小时，计算机都把该浮点数看成零值，称为机器零。通常为了保证浮点零的唯一性，需将阶码和尾数均置为零
  - 二进制浮点数的尾数的绝对值：1/2 <= |M| < 1
    - 尾数用源码表示：
      - 范围： 1/2 <= M < 1，-1< M <= - 1/2
      - 例如：0.1xxxx，1.1xxxx
    - 当尾数用补码表示时，规格化尾数应满足尾数最高位与符号位不同（ms m1=1）
      - 范围： 1/2<=M<1，-1<=M<-1/2
      - 例如：0.1xxxx，1.0xxxx

  ### 1.1.2.3IEEE754标准

  - 浮点数表示格式：

    - 32位：S(第31位)+E(第23~30位)+M(0~22位)
    - 64位：S(第63位)+E(第62~52位)+M(0~51位)

    >   Ｓ：浮点数的符号位，1 位，0表示正数，1表示负数。
    >
    >   Ｍ：尾数，23位，纯小数，采用原码来表示。
    >
    >   Ｅ：阶码，8 位，采用移码方式来表示正负指数。
    >
    > ​      将浮点数的指数真值e 变成阶码Ｅ 时，应将指数 e 加上一个固定的偏移值127(01111111)
    >
    > ​      即 Ｅ＝e＋127.

    - *ｘ*＝(－1)*s*×(1.*Ｍ*)×2*Ｅ－**127*　      *e*＝*Ｅ*－127  
    - 32位浮点数表示中，要除去E 用全0和全1(255)10表示零和无穷大的特殊情况，指数的偏移值不选128(10000000)，而选127(01111111)
    - 对于规格化浮点数，E 的范围变为1到254，真正的指数值e 则为-126到+127

  - 表示范围：

    - 最大正数             ＋[1+( 1 – 2-23 )] × 2^127
      - 0 11 111 110  111 111 111 111 111 111 111 11
    - 最小正数             ＋(1.0) × 2^-126
      - 0 00 000 001 000 000 000 000 000 000 000 00
    - 最大负数             － 1 × 2^-126
      - 1 00 000 001 000 000 000 000 000 000 000 00
    - 最小负数             － [1+( 1 – 2^-23 )] ×2^127
      - 1 11 111 110  111 111 111 111 111 111 111 11
    - 零                         0
      - 0 00 000 000 000 000 000 000 000 000 000 00
    - 正负无穷              
      - S 11 111 111 000 000 000 000 000 000 000 00



## 1.2数的机器码表示

### 1.2.1原码表示法

- 若定点小数的原码形式为ｘ0 .ｘ1ｘ2…ｘn ，则原码表示的定义是：

   				*ｘ*　               	   1＞*ｘ*≥0

   [*ｘ*]原＝    1－*ｘ*＝1＋|*ｘ*|     0≥*ｘ*＞－1；式中[*ｘ*]原是机器数，*ｘ*是真值

  ​           

- 若定点整数的原码形式为ｘ0 ｘ1ｘ2…ｘn ，则原码表示的定义是

  ​       		 *ｘ*　           		       2n＞*ｘ*≥0

   [*ｘ*]原＝   2n－*ｘ*＝2n＋|*ｘ*|     0≥*ｘ*＞－2n

- 0：

  - [+0]原 = 0.000...0
  - [ -0]原 = 1.000...0 

- 优缺：

  - 理解简单，加法运算复杂

### 1.2.2补码表示法

- 若定点小数补码形式为ｘ0 .ｘ1ｘ2…ｘn ，则补码表示的定义是：

  ​        		*ｘ*　          		       1＞*ｘ*≥0

   [*ｘ*]补＝   2＋*ｘ*＝2－|*ｘ*|　     0≥*ｘ*≥－1

  ​                                 (mod 2)

    若定点整数补码形式为ｘ0 ｘ1ｘ2…ｘn ，则补码表示的定义是：

  ​       		 *ｘ*　　　　　　　 　       2n＞*ｘ*≥0 

   [*ｘ*]补＝    2n+1+*ｘ*＝2n+1－|*ｘ*|　 0≥*ｘ*≥－2n

  ​                               (mod 2n＋1)

### 1.2.3反码表示法

- 二进制的各位数码0变为1，1变为0

- 若定点小数反码形式为ｘ0 .ｘ1ｘ2…ｘn ，则反码表示的定义是：

  ​       		   ｘ*　              	  1＞*ｘ*≥0

   [*ｘ*]反＝    (2－2-n)＋*ｘ*　     0≥*ｘ*＞－1

- 一般情况下，对正数和负数的ｘ值，

  *ｘ*＝＋0.*ｘ*1*ｘ*2…*ｘ*n，则[*ｘ*]反＝0.*ｘ*1*ｘ*2…*ｘ*n

  *ｘ*＝－0.*ｘ*1*ｘ*2…*ｘ*n，则[*ｘ*]反＝1.*ｘ*1*ｘ*2…*ｘ*n

- 若定点整数反码形式为ｘ0 ｘ1ｘ2…ｘn ，则反码表示的定义是：

  ​                  ｘ*　                        2n＞*ｘ*≥0

   [*ｘ*]反＝    (2n+1－1)＋*ｘ*　      0≥*ｘ*＞－2

- 对负数有：

  - 定点小数  [*ｘ*]反＝(2－2－n)＋*ｘ* 

  ​           [*ｘ*]补＝2＋*ｘ*    

    		可得到    [*ｘ*]补＝[*ｘ*]反＋2－n   

  - 定点整数  [*ｘ*]反＝ (2n+1－1)＋*ｘ*

  　         [*ｘ*]补＝ 2n+1+*ｘ*

    		可得到    [*ｘ*]补＝[*ｘ*]反＋1

  - 一个负数变补码，其方法是符号位置1，其余各位0变1，1变0，然后在最末位(2-n)上加1

### 1.2.4移码表示法

- 整数移码形式为 *ｘ*0*ｘ*1*ｘ*2…*ｘ*n时，对定点整数移码的传统定义是： [*ｘ*]移＝2n＋*ｘ*，　　 2n＞*ｘ*≥－2n 
- “移码”一词的由来：移码就是在真值x基础上加一个常数，这个常数被称为偏移值，相当于x在数轴上正向移动了若干个单位

> [x]移    <---符号位取反--->     [x]补

# 2.定点加法、减法运算

# 3.定点乘法运算

# 4.定点除法运算

#  5 定点运算器的组成

# 6 浮点运算方法和浮点运算器