# network-基础

# 计算机网络定义

## 计算机网络

- 通信信道连接的主机和网络设备的集合，方便用户共享资源和互相通信
- 自主，互连的计算机集合

### 主要特征

- 通用性，不对特定应用优化
- 能支持广泛，不断出现的新型应用

### 网络的组成

- 节点+链路（拓扑）
- 开放系统+互连环境（OSI）
- 核心网+边缘网（TCP/IP)
  - 核心网的交换模式：电路交换，分组交换，报文交换，混合交换
  - 边缘网的通信模式：C/S, P2P
- 设备+协议+应用（物理）

### 构建网络的三种方式

- 直接连接网络
  - 点到点链路
  - 多路访问链路
- 网络云
- 网络云互连（网络云的网络云）

### 网络服务

- 向用户所提供的有用网络功能，运行在网络中不同主机上的网络应用程序协作提供

### + 拓展

- Internet：专用名词，使用TCP/IP的国际互连网，因特网
- internet ：技术术语，互联网

## 因特网组成

- 网络边缘：应用系统，主机
- 接入网：接入网
- 网络核心：路由器（网络的网络）

### 特点

- 端到端
- 复杂网络处理置于网络边缘
- 相对简单的分组交付功能置于网络核心
- 位于网络边缘的端系统的强大计算能力，用软件方式处理大量复杂的控制和应用逻辑，位于网络核心的路由器尽可能简单，高速转发分组

### 因特网边缘

- 端系统
- 客户服务器模式
- 对等模式

### 接入网

- 将端系统连接到其边缘路由的物理链路及设备的集合

### 网络云传递数据方式

- 电路交换

    - 特点：

    > 按需建立点对点信道
    >
    > 点对点独占经过的物理链路带宽
    >
    > 数据无需携带地址信息

- 分组交换
  
  - 数据发送前不必建立连接
  
- 报文交换

# 协议分组与服务模型

## 网络协议

### 定义

- 为进行网络中的数据交换而建立的规则，标准或约定

### 三要素

- 语法：数据与控制信息的结构与格式
- 语义：发出何种控制信息，完成何种动作以及做出何种响应
- 定时：事件实现顺序的详细说明

### 协议分层

**好处**

- 简化系统设计，模块化易于维护，系统的更新成本和效率

**负面影响**

- 信息冗余，性能降低
- 层次难以确定
- 协议首部越来越大

### 设计原则

- 功能模块化：取出不同网络应用之间以及网络应用与网络技术之间的紧密耦合
- 端到端原则：划分了网络功能关键模块应当在哪些模块中实现
- 定义好接口将复杂系统分隔开

### 几种体系结构

- OSI七层
- TCP/IP
- 5层

#### 各层协议

物理层：RJ45、CLOCK、IEEE802.3   （中继器，集线器，网关）

数据链路：PPP、FR、HDLC、VLAN、MAC  （网桥，交换机）

网络层：IP、ICMP、ARP、RARP、OSPF、IPX、RIP、IGRP、 （路由器）

传输层：TCP、UDP、SPX

会话层：NFS、SQL、NETBIOS、RPC

表示层：JPEG、MPEG、ASII

应用层：FTP、DNS、Telnet、SMTP、HTTP、WWW、NFS

#### 各层作用及传输单元

**物理层：**通过媒介传输比特,确定机械及电气规范（比特Bit）

**数据链路层**：将比特组装成帧和点到点的传递（帧Frame）

**网络层**：负责数据包从源到宿的传递和网际互连（包Packet）

**传输层**：提供端到端的可靠报文传递和错误恢复（段Segment）

**会话层**：建立、管理和终止会话（会话协议数据单元SPDU）

**表示层**：对数据进行翻译、加密和压缩（表示协议数据单元PPDU）

**应用层**：允许访问OSI环境的手段（应用协议数据单元APDU）

#### 逐层封装的原因

- 对等层需要交换本层控制信息
- 每一层对等层之间有规范PDU格式的协议
- 每一层有对应的控制信息

### 水平协议，垂直服务

#### 协议标准化

- 国际标准化组织--ISO
- 国际电信联盟-电信标准部--ITU-T(CCITT)
- 因特网协会--ISOC（IETF）
- 电气和电子工程师学会--IEEE
- 电子工业协会--EIA/TIA
- 因特网名字与号码指派公司--ICANN

#### 因特网标准化工作

- 因特网草案，Internet Draft
- 建议标准，Proposed Standard,RFC文档
- 草案标准，Draft Standard
- 因特网标准，Internet Standard

> 另外三种RFC，历史的（historic)，实验的(experimental)，提供信息的(informational)

# 分组交换网的性能指标

## 带宽和吞吐量

- 速率：信道上的传输数据的速率，称数据率，比特率
- 网络带宽：链路在一段特定时间内所能传送的比特数的额定值，bps
- 吞吐量：网络在单位时间内无差别的传输数据的能力
- 瓶颈链路：路径中可用带宽最小的链路
- 可用带宽：带宽与干扰流量之差
- 比特时间：传送一个比特的所花费的时间，对信道而言比特时间=1/带宽

## 常用带宽单位

- 千比每秒，kb/s(10^3 b/s)
- 兆比每秒，Mb/s(10^6 b/s)
- 吉比每秒，Gb/s(10^9 b/s)
- 太比每秒，Tb/s(10^12 b/s)

> K = 2^10 = 1024 bit
>
> M = 2^20 bit
>
> G = 2^30 bit
>
> T = 2^40 bit

## 四种延时

```shell
场景：A ---> B
```

在A点的*处理时延*和*排队时延*，在A节点到链路的发送器中产生的*传输时延*（发送时延），在链路上产生的（*传播时延*）

- 处理时延：bit差错检测以及链路选择
- 排队时延：等待输出链路传输时间（取决于路由器拥塞等级）
- 传输时延：分组长度（bit） / 链路带宽（bps）
- 传播时延：物理链路长度 / 传播速度

## 跳与路径

## 时延带宽积

> 应用进程之间的信道看做中空的管道，时延相当于管道长度，带宽相当于管道直径
>
> **时延带宽积**相当于管道**容积**：管道可容纳的比特数

- 信道的比特长度 = 传播延时x信道宽度
- 数据吞吐率或吞吐量：单位时间内通过网路的数据量
- 信道利用率：某信道有百分之几的时间是利用的，=实际通过的数据量/理论上应该通过的数据量
- 网络利用率是全网络的信道利用率的加权平均值